{"ast":null,"code":"var _jsxFileName = \"/home/sv/LazyHacks/study-tracker-ui/src/pages/GoogleDriveNotes.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { gapi } from 'gapi-script';\nimport './GoogleDriveNotes.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CLIENT_ID = 'YOUR_CLIENT_ID';\nconst API_KEY = '898750108776-iq2digsu2i6j9c7drvpd5bg700didsim.apps.googleusercontent.com';\nconst SCOPES = 'https://www.googleapis.com/auth/drive.metadata.readonly';\nfunction GoogleDriveNotes() {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [fileTree, setFileTree] = useState([]);\n  const [isSidebarVisible, setIsSidebarVisible] = useState(true);\n  useEffect(() => {\n    const initClient = () => {\n      gapi.client.init({\n        apiKey: API_KEY,\n        clientId: CLIENT_ID,\n        scope: SCOPES,\n        discoveryDocs: ['https://www.googleapis.com/discovery/v1/apis/drive/v3/rest']\n      }).then(() => {\n        // Listen for sign-in state changes\n        gapi.auth2.getAuthInstance().isSignedIn.listen(setIsAuthenticated);\n        // Handle initial sign-in state\n        setIsAuthenticated(gapi.auth2.getAuthInstance().isSignedIn.get());\n\n        // Load file tree if authenticated\n        if (gapi.auth2.getAuthInstance().isSignedIn.get()) {\n          loadFileTree();\n        }\n      });\n    };\n    gapi.load('client:auth2', initClient);\n  }, []);\n  const handleSignIn = () => {\n    gapi.auth2.getAuthInstance().signIn();\n  };\n  const handleSignOut = () => {\n    gapi.auth2.getAuthInstance().signOut();\n    setFileTree([]);\n  };\n  const loadFileTree = async () => {\n    try {\n      const response = await gapi.client.drive.files.list({\n        pageSize: 20,\n        fields: 'files(id, name, mimeType, parents)',\n        q: \"'root' in parents and trashed = false\"\n      });\n      setFileTree(response.result.files);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n    }\n  };\n  const toggleSidebar = () => {\n    setIsSidebarVisible(!isSidebarVisible);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"file-browser-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"toggle-sidebar\",\n      onClick: toggleSidebar,\n      children: isSidebarVisible ? 'Hide Sidebar' : 'Show Sidebar'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), isSidebarVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-tree-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Google Drive\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), !isAuthenticated ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSignIn,\n        children: \"Sign in with Google\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSignOut,\n          children: \"Sign Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-list\",\n          children: fileTree.map(file => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-item\",\n            children: [file.mimeType === 'application/vnd.google-apps.folder' ? 'üìÅ' : 'üìÑ', \" \", file.name]\n          }, file.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Google Drive Viewer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Select a file or folder in Google Drive to view its content here.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(GoogleDriveNotes, \"R4D6YnWheBynPjaUB8gKfVJmwx4=\");\n_c = GoogleDriveNotes;\nexport default GoogleDriveNotes;\nvar _c;\n$RefreshReg$(_c, \"GoogleDriveNotes\");","map":{"version":3,"names":["React","useState","useEffect","gapi","jsxDEV","_jsxDEV","Fragment","_Fragment","CLIENT_ID","API_KEY","SCOPES","GoogleDriveNotes","_s","isAuthenticated","setIsAuthenticated","fileTree","setFileTree","isSidebarVisible","setIsSidebarVisible","initClient","client","init","apiKey","clientId","scope","discoveryDocs","then","auth2","getAuthInstance","isSignedIn","listen","get","loadFileTree","load","handleSignIn","signIn","handleSignOut","signOut","response","drive","files","list","pageSize","fields","q","result","error","console","toggleSidebar","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","file","mimeType","name","id","_c","$RefreshReg$"],"sources":["/home/sv/LazyHacks/study-tracker-ui/src/pages/GoogleDriveNotes.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { gapi } from 'gapi-script';\nimport './GoogleDriveNotes.css';\n\nconst CLIENT_ID = 'YOUR_CLIENT_ID';\nconst API_KEY = '898750108776-iq2digsu2i6j9c7drvpd5bg700didsim.apps.googleusercontent.com';\nconst SCOPES = 'https://www.googleapis.com/auth/drive.metadata.readonly';\n\nfunction GoogleDriveNotes() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [fileTree, setFileTree] = useState([]);\n  const [isSidebarVisible, setIsSidebarVisible] = useState(true);\n\n  useEffect(() => {\n    const initClient = () => {\n      gapi.client.init({\n        apiKey: API_KEY,\n        clientId: CLIENT_ID,\n        scope: SCOPES,\n        discoveryDocs: ['https://www.googleapis.com/discovery/v1/apis/drive/v3/rest'],\n      }).then(() => {\n        // Listen for sign-in state changes\n        gapi.auth2.getAuthInstance().isSignedIn.listen(setIsAuthenticated);\n        // Handle initial sign-in state\n        setIsAuthenticated(gapi.auth2.getAuthInstance().isSignedIn.get());\n\n        // Load file tree if authenticated\n        if (gapi.auth2.getAuthInstance().isSignedIn.get()) {\n          loadFileTree();\n        }\n      });\n    };\n    gapi.load('client:auth2', initClient);\n  }, []);\n\n  const handleSignIn = () => {\n    gapi.auth2.getAuthInstance().signIn();\n  };\n\n  const handleSignOut = () => {\n    gapi.auth2.getAuthInstance().signOut();\n    setFileTree([]);\n  };\n\n  const loadFileTree = async () => {\n    try {\n      const response = await gapi.client.drive.files.list({\n        pageSize: 20,\n        fields: 'files(id, name, mimeType, parents)',\n        q: \"'root' in parents and trashed = false\",\n      });\n      setFileTree(response.result.files);\n    } catch (error) {\n      console.error('Error fetching files:', error);\n    }\n  };\n\n  const toggleSidebar = () => {\n    setIsSidebarVisible(!isSidebarVisible);\n  };\n\n  return (\n    <div className=\"file-browser-container\">\n      <button className=\"toggle-sidebar\" onClick={toggleSidebar}>\n        {isSidebarVisible ? 'Hide Sidebar' : 'Show Sidebar'}\n      </button>\n\n      {isSidebarVisible && (\n        <div className=\"file-tree-sidebar\">\n          <h3>Google Drive</h3>\n          {!isAuthenticated ? (\n            <button onClick={handleSignIn}>Sign in with Google</button>\n          ) : (\n            <>\n              <button onClick={handleSignOut}>Sign Out</button>\n              <div className=\"file-list\">\n                {fileTree.map((file) => (\n                  <div key={file.id} className=\"file-item\">\n                    {file.mimeType === 'application/vnd.google-apps.folder' ? 'üìÅ' : 'üìÑ'} {file.name}\n                  </div>\n                ))}\n              </div>\n            </>\n          )}\n        </div>\n      )}\n      <div className=\"file-content\">\n        <h3>Google Drive Viewer</h3>\n        <p>Select a file or folder in Google Drive to view its content here.</p>\n      </div>\n    </div>\n  );\n}\n\nexport default GoogleDriveNotes;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}