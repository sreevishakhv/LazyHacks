{"ast":null,"code":"var _jsxFileName = \"/home/sv/LazyHacks/study-tracker-ui/src/pages/SmartAssistant.js\",\n  _s = $RefreshSig$();\n// SmartAssistant.js\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Header from '../components/Header';\nimport './SmartAssistant.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SmartAssistant() {\n  _s();\n  var _location$state;\n  const location = useLocation();\n  const uploadedFile = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.uploadedFile;\n  const [question, setQuestion] = useState(\"\");\n  const [response, setResponse] = useState(\"\");\n  const [isRecording, setIsRecording] = useState(false);\n  const [audioBlob, setAudioBlob] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioURL = audioBlob ? URL.createObjectURL(audioBlob) : null;\n  const [summary, setSummary] = useState(\"\");\n  useEffect(() => {\n    if (uploadedFile === \"MLP.pdf\") {\n      setSummary(\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\");\n    } else if (uploadedFile === \"rt1.pdf\") {\n      setSummary(\"bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb\");\n    } else if (uploadedFile === \"https://arxiv.org/pdf/2406.09246\") {\n      setSummary(\"cccccccccccccccccccccccccccccccc\");\n    } else {\n      setSummary(\"This is a brief summary of the paper's content. (Placeholder text)\");\n    }\n  }, [uploadedFile]);\n  const handleSubmit = () => {\n    if (audioBlob) {\n      setResponse(\"This is a sample response to your recorded question.\"); // Placeholder response for audio\n    } else if (question) {\n      setResponse(\"This is a where response to your typed question.\"); // Placeholder response for text\n    }\n  };\n  const handleAudioSubmit = () => {\n    if (isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    } else {\n      navigator.mediaDevices.getUserMedia({\n        audio: true\n      }).then(stream => {\n        const mediaRecorder = new MediaRecorder(stream);\n        mediaRecorderRef.current = mediaRecorder;\n        mediaRecorder.start();\n        setIsRecording(true);\n        const audioChunks = [];\n        mediaRecorder.ondataavailable = event => {\n          audioChunks.push(event.data);\n        };\n        mediaRecorder.onstop = () => {\n          const audioBlob = new Blob(audioChunks, {\n            type: 'audio/wav'\n          });\n          setAudioBlob(audioBlob);\n          setIsRecording(false);\n        };\n      }).catch(error => {\n        console.error(\"Microphone access denied or error: \", error);\n      });\n    }\n  };\n  const handleClearAudio = () => {\n    setAudioBlob(null);\n    setQuestion(\"\"); // Reset text input when returning to text input mode\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"smart-assistant-page\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Smart Assistant Summary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"summary\",\n      children: summary\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Ask a Question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"question-box\",\n      children: [audioBlob ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"audio-playback\",\n        children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n          controls: true,\n          src: audioURL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleClearAudio,\n          className: \"close-audio-button\",\n          children: \"\\u2716\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this) : !isRecording ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Type your question here or use the mic...\",\n        value: question,\n        onChange: e => setQuestion(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recording-indicator\",\n        children: \"Recording... \\uD83D\\uDD34\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-box-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAudioSubmit,\n          className: `mic-button ${isRecording ? 'recording' : ''}`,\n          children: isRecording ? \"Stop Recording\" : \"ðŸŽ¤ Use Mic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          className: \"send-button\",\n          disabled: !question.trim() && !audioBlob,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"response-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Assistant Response\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: response\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(SmartAssistant, \"MRgwpWGTRAHAgPDOujkjFfisf0Y=\", false, function () {\n  return [useLocation];\n});\n_c = SmartAssistant;\nexport default SmartAssistant;\nvar _c;\n$RefreshReg$(_c, \"SmartAssistant\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useLocation","Header","jsxDEV","_jsxDEV","SmartAssistant","_s","_location$state","location","uploadedFile","state","question","setQuestion","response","setResponse","isRecording","setIsRecording","audioBlob","setAudioBlob","mediaRecorderRef","audioURL","URL","createObjectURL","summary","setSummary","handleSubmit","handleAudioSubmit","current","stop","navigator","mediaDevices","getUserMedia","audio","then","stream","mediaRecorder","MediaRecorder","start","audioChunks","ondataavailable","event","push","data","onstop","Blob","type","catch","error","console","handleClearAudio","className","children","fileName","_jsxFileName","lineNumber","columnNumber","controls","src","onClick","placeholder","value","onChange","e","target","disabled","trim","_c","$RefreshReg$"],"sources":["/home/sv/LazyHacks/study-tracker-ui/src/pages/SmartAssistant.js"],"sourcesContent":["// SmartAssistant.js\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Header from '../components/Header';\nimport './SmartAssistant.css';\n\nfunction SmartAssistant() {\n  const location = useLocation();\n  const uploadedFile = location.state?.uploadedFile;\n  const [question, setQuestion] = useState(\"\");\n  const [response, setResponse] = useState(\"\");\n  const [isRecording, setIsRecording] = useState(false);\n  const [audioBlob, setAudioBlob] = useState(null);\n  const mediaRecorderRef = useRef(null);\n  const audioURL = audioBlob ? URL.createObjectURL(audioBlob) : null;\n  const [summary, setSummary] = useState(\"\");\n\n  useEffect(() => {\n    if (uploadedFile === \"MLP.pdf\") {\n      setSummary(\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\");\n    } else if (uploadedFile === \"rt1.pdf\") {\n      setSummary(\"bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb\");\n    } else if (uploadedFile === \"https://arxiv.org/pdf/2406.09246\") {\n      setSummary(\"cccccccccccccccccccccccccccccccc\");\n    } else {\n      setSummary(\"This is a brief summary of the paper's content. (Placeholder text)\");\n    }\n  }, [uploadedFile]);\n\n  const handleSubmit = () => {\n    if (audioBlob) {\n      setResponse(\"This is a sample response to your recorded question.\"); // Placeholder response for audio\n    } else if (question) {\n      setResponse(\"This is a where response to your typed question.\"); // Placeholder response for text\n    }\n  };\n\n  const handleAudioSubmit = () => {\n    if (isRecording) {\n      mediaRecorderRef.current.stop();\n      setIsRecording(false);\n    } else {\n      navigator.mediaDevices.getUserMedia({ audio: true }).then((stream) => {\n        const mediaRecorder = new MediaRecorder(stream);\n        mediaRecorderRef.current = mediaRecorder;\n        mediaRecorder.start();\n        setIsRecording(true);\n\n        const audioChunks = [];\n        mediaRecorder.ondataavailable = (event) => {\n          audioChunks.push(event.data);\n        };\n\n        mediaRecorder.onstop = () => {\n          const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });\n          setAudioBlob(audioBlob);\n          setIsRecording(false);\n        };\n      }).catch((error) => {\n        console.error(\"Microphone access denied or error: \", error);\n      });\n    }\n  };\n\n  const handleClearAudio = () => {\n    setAudioBlob(null);\n    setQuestion(\"\"); // Reset text input when returning to text input mode\n  };\n\n  return (\n    <div className=\"smart-assistant-page\">\n      <Header />\n      <h2>Smart Assistant Summary</h2>\n      <div className=\"summary\">\n        {summary}\n      </div>\n\n      <h3>Ask a Question</h3>\n      <div className=\"question-box\">\n        {audioBlob ? (\n          <div className=\"audio-playback\">\n            <audio controls src={audioURL} />\n            <button onClick={handleClearAudio} className=\"close-audio-button\">âœ–</button>\n          </div>\n        ) : !isRecording ? (\n          <textarea\n            placeholder=\"Type your question here or use the mic...\"\n            value={question}\n            onChange={(e) => setQuestion(e.target.value)}\n          />\n        ) : (\n          <div className=\"recording-indicator\">Recording... ðŸ”´</div>\n        )}\n        <div className=\"question-box-buttons\">\n          <button onClick={handleAudioSubmit} className={`mic-button ${isRecording ? 'recording' : ''}`}>\n            {isRecording ? \"Stop Recording\" : \"ðŸŽ¤ Use Mic\"}\n          </button>\n          <button \n            onClick={handleSubmit} \n            className=\"send-button\" \n            disabled={!question.trim() && !audioBlob}\n          >\n            Send\n          </button>\n        </div>\n      </div>\n\n      <div className=\"response-box\">\n        <h4>Assistant Response</h4>\n        <p>{response}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default SmartAssistant;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}