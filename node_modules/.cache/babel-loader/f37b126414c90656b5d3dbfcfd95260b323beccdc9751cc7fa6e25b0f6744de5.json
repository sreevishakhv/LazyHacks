{"ast":null,"code":"export function bucketEndpointMiddleware(options) {\n  return (next, context) => async args => {\n    if (options.bucketEndpoint) {\n      const endpoint = context.endpointV2;\n      if (endpoint) {\n        const bucket = args.input.Bucket;\n        if (typeof bucket === \"string\") {\n          try {\n            const bucketEndpointUrl = new URL(bucket);\n            context.endpointV2 = {\n              ...endpoint,\n              url: bucketEndpointUrl\n            };\n          } catch (e) {\n            const warning = `@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${bucket} could not be parsed as URL.`;\n            if (context.logger?.constructor?.name === \"NoOpLogger\") {\n              console.warn(warning);\n            } else {\n              context.logger?.warn?.(warning);\n            }\n            throw e;\n          }\n        }\n      }\n    }\n    return next(args);\n  };\n}\nexport const bucketEndpointMiddlewareOptions = {\n  name: \"bucketEndpointMiddleware\",\n  override: true,\n  relation: \"after\",\n  toMiddleware: \"endpointV2Middleware\"\n};","map":{"version":3,"names":["bucketEndpointMiddleware","options","next","context","args","bucketEndpoint","endpoint","endpointV2","bucket","input","Bucket","bucketEndpointUrl","URL","url","e","warning","logger","constructor","name","console","warn","bucketEndpointMiddlewareOptions","override","relation","toMiddleware"],"sources":["/home/sv/LazyHacks/study-tracker-ui/node_modules/@aws-sdk/middleware-sdk-s3/dist-es/bucket-endpoint-middleware.js"],"sourcesContent":["export function bucketEndpointMiddleware(options) {\n    return (next, context) => async (args) => {\n        if (options.bucketEndpoint) {\n            const endpoint = context.endpointV2;\n            if (endpoint) {\n                const bucket = args.input.Bucket;\n                if (typeof bucket === \"string\") {\n                    try {\n                        const bucketEndpointUrl = new URL(bucket);\n                        context.endpointV2 = {\n                            ...endpoint,\n                            url: bucketEndpointUrl,\n                        };\n                    }\n                    catch (e) {\n                        const warning = `@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${bucket} could not be parsed as URL.`;\n                        if (context.logger?.constructor?.name === \"NoOpLogger\") {\n                            console.warn(warning);\n                        }\n                        else {\n                            context.logger?.warn?.(warning);\n                        }\n                        throw e;\n                    }\n                }\n            }\n        }\n        return next(args);\n    };\n}\nexport const bucketEndpointMiddlewareOptions = {\n    name: \"bucketEndpointMiddleware\",\n    override: true,\n    relation: \"after\",\n    toMiddleware: \"endpointV2Middleware\",\n};\n"],"mappings":"AAAA,OAAO,SAASA,wBAAwBA,CAACC,OAAO,EAAE;EAC9C,OAAO,CAACC,IAAI,EAAEC,OAAO,KAAK,MAAOC,IAAI,IAAK;IACtC,IAAIH,OAAO,CAACI,cAAc,EAAE;MACxB,MAAMC,QAAQ,GAAGH,OAAO,CAACI,UAAU;MACnC,IAAID,QAAQ,EAAE;QACV,MAAME,MAAM,GAAGJ,IAAI,CAACK,KAAK,CAACC,MAAM;QAChC,IAAI,OAAOF,MAAM,KAAK,QAAQ,EAAE;UAC5B,IAAI;YACA,MAAMG,iBAAiB,GAAG,IAAIC,GAAG,CAACJ,MAAM,CAAC;YACzCL,OAAO,CAACI,UAAU,GAAG;cACjB,GAAGD,QAAQ;cACXO,GAAG,EAAEF;YACT,CAAC;UACL,CAAC,CACD,OAAOG,CAAC,EAAE;YACN,MAAMC,OAAO,GAAG,sEAAsEP,MAAM,8BAA8B;YAC1H,IAAIL,OAAO,CAACa,MAAM,EAAEC,WAAW,EAAEC,IAAI,KAAK,YAAY,EAAE;cACpDC,OAAO,CAACC,IAAI,CAACL,OAAO,CAAC;YACzB,CAAC,MACI;cACDZ,OAAO,CAACa,MAAM,EAAEI,IAAI,GAAGL,OAAO,CAAC;YACnC;YACA,MAAMD,CAAC;UACX;QACJ;MACJ;IACJ;IACA,OAAOZ,IAAI,CAACE,IAAI,CAAC;EACrB,CAAC;AACL;AACA,OAAO,MAAMiB,+BAA+B,GAAG;EAC3CH,IAAI,EAAE,0BAA0B;EAChCI,QAAQ,EAAE,IAAI;EACdC,QAAQ,EAAE,OAAO;EACjBC,YAAY,EAAE;AAClB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}